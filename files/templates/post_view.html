<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr>
    <td width="30%" valign="top"><span class="varname">user_id</span><br><span class="vardesc">User unique number</span></td>
    <td width="70%" valign="middle"><a href="<?= homeURL ?>/user_view.fcgi?user_id=<?= user_id ?>">№<?= user_id ?></a></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">user_nick</span><br><span class="vardesc">User nick name</span></td>
    <td width="70%" valign="middle"><a href="<?= homeURL ?>/user_view.fcgi?user_id=<?= user_id ?>"><?lua return escape_html(var.user_nick) ?></a></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">post_id</span><br><span class="vardesc">Post identification number</span></td>
    <td width="70%" valign="middle"><a href="<?= homeURL ?>/post_view.fcgi?post_id=<?= post_id ?>">№<?= post_id ?></a></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">post_parent</span><br><span class="vardesc">Identification number of parent post</span></td>
    <td width="70%" valign="middle"><a href="<?= homeURL ?>/post_view.fcgi?post_id=<?= post_parent ?>">№<?= post_parent ?></a></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">post_timestamp</span><br><span class="vardesc">Post timestamp</span></td>
    <td width="70%" valign="middle"><?= post_timestamp ?></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">post_subject</span><br><span class="vardesc">Post subject</span></td>
    <td width="70%" valign="middle"><?lua return escape_html(var.post_subject) ?></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">post_body</span><br><span class="vardesc">Post text</span></td>
    <td width="70%" valign="middle"><?lua return escape_html(var.post_body) ?></td>
</tr>
<tr>
    <td width="30%" valign="top"><span class="varname">actions</span><br><span class="vardesc">Do something with this post</span></td>
    <td width="70%" valign="middle">
        <?lua
            if(post_acl(var.post_id, "add") == true) then
                return "<a href=\"" .. var.homeURL .. "/post_add.fcgi?post_parent=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/mail-message-new.png\" width=\"16\" height=\"16\" alt=\"reply\" title=\"Reply to this post\" border=\"0\"> Add post</a><br>"
            elseif(post_acl(var.post_id, "reply", var.post_depth) == true) then
                return "<a href=\"" .. var.homeURL .. "/post_reply.fcgi?post_parent=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/mail-message-new.png\" width=\"16\" height=\"16\" alt=\"reply\" title=\"Reply to this post\" border=\"0\"> Reply to this post</a><br>"
            end
        ?>
        <?lua
            if(acl("post", "edit") == true) then
                return "<a href=\"" .. var.homeURL .. "/post_edit.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/gtk-edit.png\" width=\"16\" height=\"16\" alt=\"edit\" title=\"Edit this post\" border=\"0\"> Edit this post</a><br>"
            elseif(post_acl(var.post_id, "modify", var.post_depth + 1) == true and var.session_user_id == var.user_id) then
                return "<a href=\"" .. var.homeURL .. "/post_modify.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/gtk-edit.png\" width=\"16\" height=\"16\" alt=\"modify\" title=\"Modify this post\" border=\"0\"> Modify this post</a><br>"
            end
        ?>
        <?lua
            if(acl("post", "delete") == true) then
                return "<a href=\"" .. var.homeURL .. "/post_delete.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/edit-delete.png\" width=\"16\" height=\"16\" alt=\"delete\" title=\"Delete this post\" border=\"0\"> Delete this post</a><br>"
            elseif(post_acl(var.post_id, "remove", var.post_depth + 1) == true and var.session_user_id == var.user_id) then
                return "<a href=\"" .. var.homeURL .. "/post_remove.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/actions/edit-delete.png\" width=\"16\" height=\"16\" alt=\"remove\" title=\"Remove this post\" border=\"0\"> Remove this post</a><br>"
            end
        ?>
        <?lua
            if(acl("post", "view") == true) then
                return "<a href=\"" .. var.homeURL .. "/post_topics.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/stock/net/stock_mail-open.png\" width=\"16\" height=\"16\" alt=\"view\" title=\"View this post as topics\" border=\"0\"> View this post as topics</a><br>\n" ..
                       "<a href=\"" .. var.homeURL .. "/post_board.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/stock/net/stock_mail-open.png\" width=\"16\" height=\"16\" alt=\"view\" title=\"View this post as board\" border=\"0\"> View this post as board</a><br>\n" ..
                       "<a href=\"" .. var.homeURL .. "/post_news.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/stock/net/stock_mail-open.png\" width=\"16\" height=\"16\" alt=\"view\" title=\"View this post as news\" border=\"0\"> View this post as news</a><br>\n" ..
                       "<a href=\"" .. var.homeURL .. "/post_rss.fcgi?post_id=" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/status/news-feed.png\" width=\"16\" height=\"16\" alt=\"view\" title=\"View this post as RSS\" border=\"0\"> View this post as RSS</a><br>\n"
            end
        ?>
        <?lua if(acl("acl", "edit") == true) then return "<a href=\"" .. var.homeURL .. "/acl_view.fcgi?acl_object=post_" .. var.post_id .. "\"><img src=\"" .. var.homeURL .. "/images/apps/preferences-system-authentication.png\" width=\"16\" height=\"16\" alt=\"view acl\" title=\"View ACL of this post\" border=\"0\"> View ACL of this post</a><br>" end ?>
    </td>
</tr>
</table>
